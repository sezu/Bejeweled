<!DOCTYPE html>
<html>
<head>
    <title>Bejeweled</title>
    <script src="jewel.js"></script>
    <script src="board.js"></script>
    <script src="game.js"></script>
</head>
<body>
    <canvas width="600" height="600"></canvas>
    
    <script>
      var canvas = document.getElementsByTagName("canvas")[0];
      var ctx = canvas.getContext("2d")
      var img = new Image();
      
      var loadedImagesCount = 0;
      var imagesArray = [];
      var imageNames = ["img/board.png", 
                        "img/red.png", 
                        "img/orange.png",
                        "img/yellow.png",
                        "img/green.png",
                          "img/blue.png",
                        "img/purple.png",
                        "img/white.png"];
      
      for(var i = 0; i < imageNames.length; i++) {
        var image = new Image();
        image.src = imageNames[i];
        
        image.onload = function() {
          loadedImagesCount++;
          
          if (loadedImagesCount >= imageNames.length) {
            var game = new Bejeweled.Game(ctx);
            game.start(canvas);  
          }
        }
        
        imagesArray.push(image);
      }
      
    </script>
</body>
</html>